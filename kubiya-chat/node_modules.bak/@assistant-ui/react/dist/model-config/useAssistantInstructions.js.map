{"version":3,"sources":["../../src/model-config/useAssistantInstructions.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useAssistantRuntime } from \"../context\";\n\ntype AssistantInstructionsConfig = {\n  disabled?: boolean | undefined;\n  instruction: string;\n};\n\nconst getInstructions = (\n  instruction: string | AssistantInstructionsConfig,\n): AssistantInstructionsConfig => {\n  if (typeof instruction === \"string\") return { instruction };\n  return instruction;\n};\n\nexport const useAssistantInstructions = (\n  config: string | AssistantInstructionsConfig,\n) => {\n  const { instruction, disabled = false } = getInstructions(config);\n  const assistantRuntime = useAssistantRuntime();\n\n  useEffect(() => {\n    if (disabled) return;\n\n    const config = {\n      system: instruction,\n    };\n    return assistantRuntime.registerModelConfigProvider({\n      getModelConfig: () => config,\n    });\n  }, [assistantRuntime, instruction]);\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,mBAA0B;AAC1B,qBAAoC;AAOpC,IAAM,kBAAkB,CACtB,gBACgC;AAChC,MAAI,OAAO,gBAAgB,SAAU,QAAO,EAAE,YAAY;AAC1D,SAAO;AACT;AAEO,IAAM,2BAA2B,CACtC,WACG;AACH,QAAM,EAAE,aAAa,WAAW,MAAM,IAAI,gBAAgB,MAAM;AAChE,QAAM,uBAAmB,oCAAoB;AAE7C,8BAAU,MAAM;AACd,QAAI,SAAU;AAEd,UAAMA,UAAS;AAAA,MACb,QAAQ;AAAA,IACV;AACA,WAAO,iBAAiB,4BAA4B;AAAA,MAClD,gBAAgB,MAAMA;AAAA,IACxB,CAAC;AAAA,EACH,GAAG,CAAC,kBAAkB,WAAW,CAAC;AACpC;","names":["config"]}