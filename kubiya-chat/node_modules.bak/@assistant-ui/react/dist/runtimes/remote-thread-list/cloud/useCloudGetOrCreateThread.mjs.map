{"version":3,"sources":["../../../../src/runtimes/remote-thread-list/cloud/useCloudGetOrCreateThread.tsx"],"sourcesContent":["\"use client\";\n\nimport { useContext } from \"react\";\nimport { useThreadListItem } from \"../../../context/react/ThreadListItemContext\";\nimport { CloudContext } from \"./CloudContext\";\n\nexport const useCloudGetOrCreateThread = () => {\n  const currentId = useThreadListItem((i) => i.externalId);\n  const cloudContextValue = useContext(CloudContext);\n  if (!cloudContextValue) throw new Error(\"CloudContext not available\");\n\n  return async () => {\n    let externalId = currentId;\n    if (!externalId) {\n      externalId = (await cloudContextValue.initialize()).externalId;\n    }\n    return { externalId };\n  };\n};\n"],"mappings":";;;AAEA,SAAS,kBAAkB;AAC3B,SAAS,yBAAyB;AAClC,SAAS,oBAAoB;AAEtB,IAAM,4BAA4B,MAAM;AAC7C,QAAM,YAAY,kBAAkB,CAAC,MAAM,EAAE,UAAU;AACvD,QAAM,oBAAoB,WAAW,YAAY;AACjD,MAAI,CAAC,kBAAmB,OAAM,IAAI,MAAM,4BAA4B;AAEpE,SAAO,YAAY;AACjB,QAAI,aAAa;AACjB,QAAI,CAAC,YAAY;AACf,oBAAc,MAAM,kBAAkB,WAAW,GAAG;AAAA,IACtD;AACA,WAAO,EAAE,WAAW;AAAA,EACtB;AACF;","names":[]}