{"version":3,"sources":["../../../../src/runtimes/remote-thread-list/cloud/useCloudGetOrCreateThread.tsx"],"sourcesContent":["\"use client\";\n\nimport { useContext } from \"react\";\nimport { useThreadListItem } from \"../../../context/react/ThreadListItemContext\";\nimport { CloudContext } from \"./CloudContext\";\n\nexport const useCloudGetOrCreateThread = () => {\n  const currentId = useThreadListItem((i) => i.externalId);\n  const cloudContextValue = useContext(CloudContext);\n  if (!cloudContextValue) throw new Error(\"CloudContext not available\");\n\n  return async () => {\n    let externalId = currentId;\n    if (!externalId) {\n      externalId = (await cloudContextValue.initialize()).externalId;\n    }\n    return { externalId };\n  };\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,mBAA2B;AAC3B,mCAAkC;AAClC,0BAA6B;AAEtB,IAAM,4BAA4B,MAAM;AAC7C,QAAM,gBAAY,gDAAkB,CAAC,MAAM,EAAE,UAAU;AACvD,QAAM,wBAAoB,yBAAW,gCAAY;AACjD,MAAI,CAAC,kBAAmB,OAAM,IAAI,MAAM,4BAA4B;AAEpE,SAAO,YAAY;AACjB,QAAI,aAAa;AACjB,QAAI,CAAC,YAAY;AACf,oBAAc,MAAM,kBAAkB,WAAW,GAAG;AAAA,IACtD;AACA,WAAO,EAAE,WAAW;AAAA,EACtB;AACF;","names":[]}