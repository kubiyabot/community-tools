"use client";

// src/runtimes/remote-thread-list/cloud/useCloudGetOrCreateThread.tsx
import { useContext } from "react";
import { useThreadListItem } from "../../../context/react/ThreadListItemContext.mjs";
import { CloudContext } from "./CloudContext.mjs";
var useCloudGetOrCreateThread = () => {
  const currentId = useThreadListItem((i) => i.externalId);
  const cloudContextValue = useContext(CloudContext);
  if (!cloudContextValue) throw new Error("CloudContext not available");
  return async () => {
    let externalId = currentId;
    if (!externalId) {
      externalId = (await cloudContextValue.initialize()).externalId;
    }
    return { externalId };
  };
};
export {
  useCloudGetOrCreateThread
};
//# sourceMappingURL=useCloudGetOrCreateThread.mjs.map