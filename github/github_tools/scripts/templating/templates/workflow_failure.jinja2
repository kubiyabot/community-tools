# 🔍 Workflow Analysis Report

## 🚨 Summary of Findings

### Failed Steps:
{% for step in failed_steps.split(',') %}
- ❌ `{{ step }}`
{% endfor %}

### 📊 Workflow Details:
- **Name**: {{ workflow_name }}
- **Status**: {{ run_details.split('|') | selectattr('startswith', 'status:') | first | replace('status:', '') }}
- **Conclusion**: {{ run_details.split('|') | selectattr('startswith', 'conclusion:') | first | replace('conclusion:', '') }}
- **Triggered By**: {{ run_details.split('|') | selectattr('startswith', 'actor:') | first | replace('actor:', '') }}

## 🔬 Detailed Analysis

### ❌ Failures:
{% for failure in failures.split('|') %}
{% set parts = failure.split(':') %}
#### {{ parts[0] }}
```
{{ parts[1] }}
```
{% endfor %}

### 🛠️ Suggested Fixes:
{% for fix in fixes.split('|') %}
{% set parts = fix.split(':') %}
#### {{ parts[0] }}
{{ parts[1] }}
{% endfor %}

### 📊 Workflow Steps:
```mermaid
graph TD;
{% for step in workflow_steps.split(',') %}
    {{ loop.index }}["{{ step }}{{ ' ❌' if step in failed_steps.split(',') else ' ✅' }}"];
    {% if not loop.first %}
    {{ loop.index - 1 }} --> {{ loop.index }};
    {% endif %}
    {% if step in failed_steps.split(',') %}
    style {{ loop.index }} fill:#ff6b6b,stroke:#333,stroke-width:4px;
    {% else %}
    style {{ loop.index }} fill:#51cf66,stroke:#333,stroke-width:2px;
    {% endif %}
{% endfor %}
```

## 📝 Error Logs
<details>
<summary>Click to expand error logs</summary>

```
{{ error_logs }}
```
</details>

## 🔗 Links
- **Pull Request**: [#{{ number }}](https://github.com/{{ repo }}/pull/{{ number }})
- **Workflow Run**: [View Run](https://github.com/{{ repo }}/actions/runs/{{ run_details.split('|') | selectattr('startswith', 'id:') | first | replace('id:', '') }})

---

<div align="center">

Generated by [Kubiya.ai](https://kubiya.ai) 🤖

</div> 